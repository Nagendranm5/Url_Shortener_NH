<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
	<div align="center">
		<div class="home-style">
			<strong>Congratulations&nbsp;&#127882;&nbsp;Your Original Url Was Successfully Shortened!</strong>
		</div>
		<div class="home-below-style">
			<em>(Hereafter you can use below generated url in your browsers instead of original url)</em>
		</div>
	</div>

	<table align="center" id="myTable">
		<tbody>
			<td><strong>Original Url</strong></td>
			<td>
				<% if @url.try(:original_url).length < 48 %>
					<%= @url.try(:original_url)%>
				<% else %>
					<%= @url.try(:original_url)[0..44] + "..." %>
				<% end %>
			</td>
			<td align="center">
				<button id="btn_1" class="btn-1" onclick="btn_1()" title="Copy to Clipboard">
				Copy!
				</button>
			</td>
			<tr/>

			<td><strong>Generated Url&nbsp;&nbsp;</strong></td>
			<td style="width: 68%"><%= "https://shorturl-nattu.herokuapp.com/io/" + @url.try(:generated_url) %></td>
			<td align="center">
				<button id="btn_2" class="btn-2" onclick="btn_2()" title="Copy to Clipboard">
				Copy!
				</button>
			</td>
		</tbody>
	</table>

	<div align="center">
		<a href="/">
			<button class="btn-3" title="Generate new url">Generate New</button>
		</a>
	</div>

	<footer style="margin-top: 170px" align="center">Developed by&nbsp;<a href="https://instagram.com/nattu_nagendran" target="_blank"><em>Nagendran M</em></a></footer>

	<div>
		<i class="fab fa-facebook"></i>
	</div>

	<!-- Hidden Element for Copying Original Url -->
	<p id="url-main" style="display: none;"><%= @url.try(:original_url) %></p>

	<!------------------------------------------------------------------------------>
	<!-- StyleSheet Space -->

	<style type="text/css">
		table, th, td {
		  border: 2px solid black;
		  border-color: grey;
		  border-collapse: collapse;
		  margin-top: 90px;
		  margin-bottom: 30px;
		  font-size: 22px;
		  line-height: 90px;
		  background-color: #D2D2D2;
		}

		.home-style {
			margin-top: -10px;
			letter-spacing: 0.9px;
			font-size: 20px;
			padding: 20px 0px;
			width: 100%;
			height: 100%;
			background-color: #073809;
			color: white;
		}

		.home-below-style {
			width: 100%;
			height: 100%;
			padding: 10px 0px;
			background-color: #073809;
			color: orange;
		}

		.btn-1 {
			background-color: #D2D2D2;
			font-size: 20px;
			border-color: #D2D2D2;
		    /*padding: 17px 18px;*/
		    cursor: pointer;
		    border: none;
		}

		.btn-2 {
			background-color: #D2D2D2;
			font-size: 20px;
			border-color: #D2D2D2;
			/*padding: 17px 18px;*/
			cursor: pointer;
			border: none;
		}

		.btn-3 {
			background-color: #F5E782;
			padding: 12px 12px;
			font-size: 18px;
			border-radius: 10px;
			font-weight: 700;
			color: brown;
			margin-top: 15px;
			border-color: white;
			cursor: pointer;
		}

		body {
			background-color: #B2ECEE;
		}

	</style>

	<!------------------------------------------------------------------------------>
	<!-- JavaScript Space -->

	<script type="text/javascript">

		function btn_1() {
			let url = document.getElementById("url-main").innerHTML;
			let btn = document.getElementById("btn_1");
			btn.innerHTML = "Copied ✅";
			btn.style.backgroundColor = "lightgreen"
			btn.style.fontSize = "11px";
			navigator.clipboard.writeText(url);
			setTimeout(button1_name_change, 1500);

			// Display the status in the console
			console.log("Original Url Was Copied To Your Clipboard Successfully!");
			console.log(navigator.clipboard.readText());
		}

		function btn_2() {
			let url = document.getElementById("myTable").rows[1].cells[1].innerHTML;
			let btn = document.getElementById("btn_2");
			btn.innerHTML = "Copied ✅";
			btn.style.backgroundColor = "lightgreen"
			btn.style.fontSize = "11px";
			navigator.clipboard.writeText(url);
			setTimeout(button2_name_change, 1500);

			// Display the status in the console
			console.log("Generated Url Was Copied To Your Clipboard Successfully!\n");
			console.log(navigator.clipboard.readText());
		}

		function button1_name_change() {
			let btn = "btn_1";
			let button = document.getElementById(btn);
			button.innerHTML = "Copy!";
			button.style.backgroundColor = "#D2D2D2";
			button.style.fontSize = "20px";
		}

		function button2_name_change() {
			let button = document.getElementById("btn_2");
			button.innerHTML = "Copy!";
			button.style.backgroundColor = "#D2D2D2";
			button.style.fontSize = "20px";
		}

	</script>
</body>
</html>
